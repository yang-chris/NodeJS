<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/jquery-1.8.3.min.js"></script>
</head>
<body>
姓名：<input type="text" id="user" name="user"><br>
密码：<input type="password" id="password" name="pass"><br/>
<input type="submit" value="注册" id="reg_btn"/>
<input type="submit" value="登陆" id="login_btn"/>
<script>
    $(function () {
        //注册
        $('#reg_btn').click(function () {
            var userVal=$('#user').val();
            var passVal=$('#password').val();
            $.ajax({
                url:'/reg',
                data:{user:userVal,pass:passVal},
                success:function (str) {
                    console.log(str);
                    if(str.ok){
                        alert('注册成功');
                    }else {
                        alert('登录失败：'+str.msg);
                    }
                },
                error:function () {
                    alert('通信错误')
                }
            })
        })

        //登录
        $('#login_btn').click(function () {
            var userVal=$('#user').val();
            var passVal=$('#password').val();
            $.ajax({
                url:'/login',
                data:{user:userVal,pass:passVal},
                success:function (str) {
                    console.log(str);
                    if(str.ok){
                        alert('登录成功');
                        location.href='a.html'
                    }else {
                        alert('登录失败：'+str.msg);
                    }
                },
                error:function () {
                    alert('通信错误')
                }
            })
        })

    })
</script>
</body>
</html>